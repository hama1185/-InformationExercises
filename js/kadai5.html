<html>
 <head>
  <title>1週目(5)</title>
  <!-- <script type="text/javascript">
    
  </script> -->
 </head>
 <body>
    <input type="button" value="スライドショー開始" onclick="on_button_start()">
    <input type="button" value="スライドショー終了" onclick="on_button_end()">
    <img src="img1.png" name="myImg" width="640" height="480">
  <script type="text/javascript">

    var type = 1;//グローバル変数で写真の添え字
    var task;//グローバル変数

    function on_button_start(){
        task = setInterval(change_image, 5000);
    }

    function on_button_end(){
        clearInterval(task);
    }

    function change_image(){
        type = getRandomType(type);//自分をののぞいたほかの写真でランダム
        document.images["myImg"].src = "img" + type + ".png"; 
    }

    function getRandomType(type){
        num = 0;
        if(Math.random() < 0.5){
            num = -1;
        }
        else{
            num = 1;
        }
        type = type + num;
        if(type  == 0){
            type = 3;
        }
        else if(type  == 4){
            type = 1;
        }
        return type;
    }
  </script>
 </body>
</html>